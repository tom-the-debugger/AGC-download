<!DOCTYPE html>
<html>
  <head>
    <title>AGC Download</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
  </head>
  <body>
    <div class="_header">
        <p>Anti Gaming Chair Client (AGC Client) injector</p>
    </div>
    <div class="_container">
      <div class="_leftSidebar">
          <a href="https://tom-the-debugger.github.io/AGC-download" class="_navBarButton-Selected">Downloads</a>
          <a href="/AGC-download/versions.html" class="_navBarButton">Versions</a>
          <a href="/AGC-download/about.html" class="_navBarButton">About</a>
      </div>
      <div class="_content">
        <h1 class="_boldText _centerText">AGC Client Injector</h1>
        <p>Drag the bookmarklet to your bookmarks bar. In the Scratch/Turbowarp project click on the bookmark and wait for the project to load.</p>
        <br/>
        <a name="Bookmark" class="_mainLink" href='javascript:(function()%7B    /* Made by anonynmous-exdash and Com_engineer_Tom. */    let id = "https://tom-the-debugger.github.io/AGC-download/downloads/AGC-Client.sb3";        function getScratchVM() %7B        if (window.location.hostname == "turbowarp.org") %7B        return window.vm;    %7D    const appElement = document.getElementById("app");    if (!appElement) %7B        return null;    %7D    const reactContainerKey = Object.keys(appElement).find(key => key.startsWith("__reactContainer$"));    if (reactContainerKey) %7B        try %7B            const rootFiber = appElement%5BreactContainerKey%5D;            const AppFiber = rootFiber.child;            const store = AppFiber?.pendingProps?.store %7C%7C AppFiber?.memoizedProps?.store;                        if (store) %7B                return store.getState().scratchGui.vm;            %7D        %7D catch (e) %7B            console.warn("%5BINJECTOR%5D: React root container search failed. ", e);        %7D    %7D    if (appElement._reactRootContainer) %7B        try %7B            const store = appElement._reactRootContainer._internalRoot.current.child.pendingProps.store;            return store.getState().scratchGui.vm;        %7D catch (e) %7B            console.warn("%5BINJECTOR%5D: React 17 Legacy path failed:", e);        %7D    %7D    console.error("%5BINJECTOR%5D: Failed to find Scratch%27s VM.");    return null;%7D    if (typeof vm === "undefined") %7B           vm = getScratchVM();    %7D    vm.runtime.canAddCloudVariable = function () %7B return true; %7D;    alert("Injecting AGC into Scratch. Please wait...");    fetch(id)        .then(r => r.arrayBuffer())        .then(buffer => vm.loadProject(buffer))        .then(() => %7B            console.log("Loaded project!");            alert("Loaded project!");        %7D)        .catch(error => %7B            alert("Something went wrong!");            console.log("Error loading project;", error);        %7D);%7D)();'>AGC Client</a>
        <br/>
        <br/>
        <p>Here is the raw .sb3 file. It is not any use if you want to use it in the actual game, but you may want to keep this file.</p>
        <br/>
        <a class="_mainLink" href="https://tom-the-debugger.github.io/AGC-download/downloads/AGC-Client.sb3">Download AGC Client</a>
      </div>
    </div>
    <div class="_footer">
      <h6>Licence: MIT</h6>
    </div>
  </body>
</html>
